{"ast":null,"code":"import _classCallCheck from \"/Users/irshadvali/Documents/graphQL/graphql-react-playlist/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/irshadvali/Documents/graphQL/graphql-react-playlist/client/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/irshadvali/Documents/graphQL/graphql-react-playlist/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/irshadvali/Documents/graphQL/graphql-react-playlist/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/irshadvali/Documents/graphQL/graphql-react-playlist/client/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/irshadvali/Documents/graphQL/graphql-react-playlist/client/src/components/AddBook.js\";\nimport React, { Component } from 'react';\nimport { graphql, compose } from 'react-apollo';\nimport { getAuthorsQuery, addBookMutation } from \"../queries/queries\";\n\nvar AddBook =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(AddBook, _Component);\n\n  function AddBook(props) {\n    var _this;\n\n    _classCallCheck(this, AddBook);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(AddBook).call(this, props));\n\n    _this.displayAuthors = function () {\n      var data = _this.props.getAuthorsQuery;\n\n      if (data.loading) {\n        return React.createElement(\"option\", {\n          disabled: true,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 21\n          },\n          __self: this\n        }, \"Loading Authors\");\n      } else {\n        return data.authors.map(function (author) {\n          return React.createElement(\"option\", {\n            key: author.id,\n            value: author.id,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 25\n            },\n            __self: this\n          }, author.name);\n        });\n      }\n    };\n\n    _this.onSubmitForm = function (e) {\n      e.preventDefault();\n      console.log(_this.state);\n\n      _this.props.addBookMutation();\n    };\n\n    _this.state = {\n      name: \"\",\n      genre: \"\",\n      authorId: \"\"\n    };\n    return _this;\n  }\n\n  _createClass(AddBook, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      console.log(this.props);\n      return React.createElement(\"form\", {\n        id: \"add-book\",\n        onSubmit: this.onSubmitForm.bind(this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 40\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"field\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 41\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 42\n        },\n        __self: this\n      }, \"Book Name:\"), React.createElement(\"input\", {\n        type: \"text\",\n        onChange: function onChange(e) {\n          return _this2.setState({\n            name: e.target.value\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 43\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"field\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47\n        },\n        __self: this\n      }, \"Genere:\"), React.createElement(\"input\", {\n        type: \"text\",\n        onChange: function onChange(e) {\n          return _this2.setState({\n            genre: e.target.value\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"field\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51\n        },\n        __self: this\n      }, \"Author\"), React.createElement(\"select\", {\n        onChange: function onChange(e) {\n          return _this2.setState({\n            authorId: e.target.value\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52\n        },\n        __self: this\n      }, React.createElement(\"option\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53\n        },\n        __self: this\n      }, \"Select Author\"), this.displayAuthors())), React.createElement(\"button\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58\n        },\n        __self: this\n      }, \"+\"));\n    }\n  }]);\n\n  return AddBook;\n}(Component);\n\nexport default compose(graphql(getAuthorsQuery, {\n  name: \"getAuthorsQuery\"\n}), graphql(addBookMutation, {\n  name: \"addBookMutation\"\n}))(AddBook);","map":{"version":3,"sources":["/Users/irshadvali/Documents/graphQL/graphql-react-playlist/client/src/components/AddBook.js"],"names":["React","Component","graphql","compose","getAuthorsQuery","addBookMutation","AddBook","props","displayAuthors","data","loading","authors","map","author","id","name","onSubmitForm","e","preventDefault","console","log","state","genre","authorId","bind","setState","target","value"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\n\nimport {graphql,compose } from 'react-apollo';\nimport {getAuthorsQuery,addBookMutation} from \"../queries/queries\"\n\nclass AddBook extends Component {\n\n    constructor(props){\n        super(props);\n            this.state={\n                name:\"\",\n                genre:\"\",\n                authorId:\"\"\n            }\n        \n    }\n\n    displayAuthors=()=>{\n        let data=this.props.getAuthorsQuery;\n        if(data.loading){\n            return(<option disabled>Loading Authors</option>)\n        }\n        else{\n            return data.authors.map(author=>{\n                return (<option key={author.id} value={author.id}>{author.name}</option>)\n            })\n        }\n    }\n    onSubmitForm =(e)=>{\n        e.preventDefault();\n        console.log(this.state)\n        this.props.addBookMutation()\n\n    }   \n\n\n    render() {\n      console.log(this.props)\n      return (\n       <form id=\"add-book\" onSubmit={this.onSubmitForm.bind(this)}>\n       <div className=\"field\">\n       <label>Book Name:</label>\n       <input type=\"text\" onChange={(e)=>this.setState({name:e.target.value})}></input>\n       </div>\n\n       <div className=\"field\">\n       <label>Genere:</label>\n       <input type=\"text\" onChange={(e)=>this.setState({genre:e.target.value})}></input>\n       </div>\n       <div className=\"field\">\n       <label>Author</label>\n      <select  onChange={(e)=>this.setState({authorId:e.target.value})}>\n          <option>Select Author</option>\n          {this.displayAuthors()}\n      </select>\n       </div>\n\n       <button>+</button>\n       </form>\n      );\n    }\n  }\n  \n  export default compose(graphql(getAuthorsQuery ,{name:\"getAuthorsQuery\"}),\n                         graphql(addBookMutation ,{name:\"addBookMutation\"}))(AddBook);"]},"metadata":{},"sourceType":"module"}